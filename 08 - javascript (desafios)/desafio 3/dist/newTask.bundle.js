(self.webpackChunkdesafio_3=self.webpackChunkdesafio_3||[]).push([[824],{1626:()=>{var e=document.querySelector(".icon"),n=document.querySelector(".collapsible");e.addEventListener("click",(function(){n.classList.toggle("collapsible--expanded")}))},1049:(e,n,t)=>{"use strict";t.r(n);var o=t(1565),i=t(6954);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,l(o.key),o)}}function c(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,n,t){return(n=l(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){var n=function(e,n){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==r(n)?n:n+""}var s=document.querySelector("#canva__save-button");console.log(s.value),document.addEventListener("DOMContentLoaded",(function(){s&&(s.value=!1,s.removeAttribute("disabled"),s.innerHTML="Guardar")}));var f,d,m=document.querySelector(".new-task__canva"),v=m.getContext("2d"),b=function(e,n){v.beginPath(),v.moveTo(f,d),v.lineWidth=5,v.strokeStyle="#000",v.lineCap="round",v.lineJoin="round",v.lineTo(e,n),v.stroke(),f=e,d=n},g=function(e){b(e.offsetX,e.offsetY)};m.addEventListener("mousedown",(function(e){f=e.offsetX,d=e.offsetY,b(f,d),m.addEventListener("mousemove",g)})),m.addEventListener("mouseup",(function(){m.removeEventListener("mousemove",g)}));var p,h=document.querySelector("#canva__clean-button");h&&h.addEventListener("click",(function(e){e.preventDefault(),v.clearRect(0,0,m.width,m.height)})),s&&s.addEventListener("click",(function(e){e.preventDefault(),s.value=!0,s.setAttribute("disabled",""),s.innerHTML="Guardado",p=m.toDataURL("image/png")}));var y=c((function e(n,t,i){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"obtenerPosicion",(function(){var e=this;return new Promise((function(n,t){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){console.log(t),e.ubicacion=t,n()}),(function(e){t("Error en la geolocalización: "+e.message)})):t("Geolocalización no disponible.")}))})),u(this,"guardarImagen",(function(){"false"!==s.value?(console.log("wtfff"),this.imagen='<img src="'.concat(p,'" />')):this.imagen="<p></p>"})),this.nombre=n,this.descripcion=t,this.fechaVencimiento=i,this.id=(0,o.n1)("sha256").update("".concat(Date.now())).digest("hex"),this.estado=!1,this.ubicacion=null,this.imagen=null})),w=document.querySelector(".new-task");w.addEventListener("submit",(function(e){e.preventDefault();var n=new FormData(w),t={};n.forEach((function(e,n){t[n]=e}));var o=t.nombre,r=t.descripcion,a=t.fechaVencimiento;i.$.vacio(o,r),i.$.nombre(o),i.$.descripcion(r);var c=new y(o,r,a);c.guardarImagen(),c.obtenerPosicion().then((function(e){console.log("ubicacion ",e);var n=localStorage.getItem("boton");console.log(n);var t,o=(0,i.a)();console.log(o),0!==o.length&&(t=o.find((function(e){return e.id===n}))),console.log("OBJETOOOO----\x3e",t),console.log("TAREAAAAAAAA",c),t.tareas.push(c),console.log("tarea: -----\x3e",c.imagen),localStorage.setItem("grupos",JSON.stringify(o)),window.location.href="../../index.html"}))}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TW1DLEVBQVcsSUFBSUMsU0FBU0YsR0FDeEJHLEVBQVEsQ0FBQyxFQUVmRixFQUFTRyxTQUFRLFNBQUNDLEVBQU9DLEdBQ3JCSCxFQUFNRyxHQUFTRCxDQUNuQixJQUVBLElBQU8vQixFQUF5QzZCLEVBQXpDN0IsT0FBUUMsRUFBaUM0QixFQUFqQzVCLFlBQWFDLEVBQW9CMkIsRUFBcEIzQixpQkFFNUIrQixFQUFBQSxFQUFhQyxNQUFNbEMsRUFBUUMsR0FDM0JnQyxFQUFBQSxFQUFhakMsT0FBT0EsR0FDcEJpQyxFQUFBQSxFQUFhaEMsWUFBWUEsR0FFekIsSUFBTWtDLEVBQVEsSUFBSXJDLEVBQU9FLEVBQVFDLEVBQWFDLEdBQzlDaUMsRUFBTUMsZ0JBQ05ELEVBQU1FLGtCQUNEQyxNQUFLLFNBQUF6QixHQUNGakQsUUFBUUMsSUFBSSxhQUFjZ0QsR0FFMUIsSUFBTTBCLEVBQVVDLGFBQWFDLFFBQVEsU0FDckM3RSxRQUFRQyxJQUFJMEUsR0FFWixJQUVJRyxFQUZFQyxHQUFTQyxFQUFBQSxFQUFBQSxLQUNmaEYsUUFBUUMsSUFBSThFLEdBRVUsSUFBbEJBLEVBQU9FLFNBQ1BILEVBQWNDLEVBQU9HLE1BQUssU0FBQUMsR0FBSyxPQUFJQSxFQUFNNUIsS0FBT29CLENBQU8sS0FDM0QzRSxRQUFRQyxJQUFJLG9CQUFrQjZFLEdBQzlCOUUsUUFBUUMsSUFBSSxlQUFnQnNFLEdBRzVCTyxFQUFZTSxPQUFPQyxLQUFLZCxHQUV4QnZFLFFBQVFDLElBQUksbUJBQWlCc0UsRUFBTWxCLFFBQ25DdUIsYUFBYVUsUUFBUSxTQUFVQyxLQUFLQyxVQUFVVCxJQUU5Q1UsT0FBT0MsU0FBU0MsS0FBTyxrQkFDM0IsR0FDUixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpby0zLy4vc3JjL3B1YmxpYy9qcy9tb2R1bGVzL2NvbGxhcHNpYmxlLmpzIiwid2VicGFjazovL2Rlc2FmaW8tMy8uL3NyYy9wdWJsaWMvanMvbW9kdWxlcy9uZXdUYXNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmljb25cIik7XHJcbmNvbnN0IGNvbGxhcHNpYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb2xsYXBzaWJsZVwiKTtcclxuXHJcbmljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNvbGxhcHNpYmxlLmNsYXNzTGlzdC50b2dnbGUoXCJjb2xsYXBzaWJsZS0tZXhwYW5kZWRcIilcclxufSkiLCIvLyBPYmpldG8gVGFyZWFzXHJcbi8vY3JlYSB1bmEgbGluZWEgbmFkYSBtYXMsIGxvIHBvZGVzIGd1YXJkYXIgZW4gdW4gYXJyYXlcclxuLy9wYXJhIHF1ZSBjYWRhIGdydXBvIHRlbmdhIHVuIGNvbmp1bnRvIGRlIHRhcmVhc1xyXG5pbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSBcImNyeXB0by1icm93c2VyaWZ5XCI7XHJcbmltcG9ydCB7IFZhbGlkYWNpb25lcywgb2J0ZW5lckdydXBvcyB9IGZyb20gXCIuLi8uLi8uLi9pbmRleFwiO1xyXG5cclxuY29uc3QgJGJvdG9uR3VhcmRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FudmFfX3NhdmUtYnV0dG9uXCIpO1xyXG5jb25zb2xlLmxvZygkYm90b25HdWFyZGFyLnZhbHVlKVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgICBpZiAoJGJvdG9uR3VhcmRhcikge1xyXG4gICAgICAgICRib3Rvbkd1YXJkYXIudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAkYm90b25HdWFyZGFyLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICRib3Rvbkd1YXJkYXIuaW5uZXJIVE1MID0gXCJHdWFyZGFyXCI7XHJcbiAgICB9XHJcbn0pXHJcblxyXG4vL0xJRU5aT1xyXG5jb25zdCAkY2FudmEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10YXNrX19jYW52YVwiKTtcclxuY29uc3QgY29udGV4dG8gPSAkY2FudmEuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxubGV0IGluaWNpYWxYO1xyXG5sZXQgaW5pY2lhbFk7XHJcblxyXG5jb25zdCBkaWJ1amFyID0gKGN1cnNvclgsIGN1cnNvclkpID0+IHtcclxuICAgIGNvbnRleHRvLmJlZ2luUGF0aCgpO1xyXG4gICAgY29udGV4dG8ubW92ZVRvKGluaWNpYWxYLCBpbmljaWFsWSk7XHJcbiAgICBjb250ZXh0by5saW5lV2lkdGggPSA1O1xyXG4gICAgY29udGV4dG8uc3Ryb2tlU3R5bGUgPSBcIiMwMDBcIjtcclxuICAgIGNvbnRleHRvLmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICBjb250ZXh0by5saW5lSm9pbiA9IFwicm91bmRcIjtcclxuICAgIGNvbnRleHRvLmxpbmVUbyhjdXJzb3JYLCBjdXJzb3JZKTtcclxuICAgIGNvbnRleHRvLnN0cm9rZSgpO1xyXG5cclxuICAgIGluaWNpYWxYID0gY3Vyc29yWDtcclxuICAgIGluaWNpYWxZID0gY3Vyc29yWTtcclxufVxyXG5cclxuY29uc3QgbW91c2VEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpbmljaWFsWCA9IGV2ZW50Lm9mZnNldFg7XHJcbiAgICBpbmljaWFsWSA9IGV2ZW50Lm9mZnNldFk7XHJcbiAgICBkaWJ1amFyKGluaWNpYWxYLCBpbmljaWFsWSk7XHJcbiAgICAkY2FudmEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZU1vdmluZyk7XHJcbn1cclxuXHJcbmNvbnN0IG1vdXNlTW92aW5nID0gKGV2ZW50KSA9PiB7XHJcbiAgICBkaWJ1amFyKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFkpO1xyXG59XHJcblxyXG5jb25zdCBtb3VzZVVwID0gKCkgPT4ge1xyXG4gICAgJGNhbnZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2VNb3ZpbmcpO1xyXG59XHJcblxyXG4kY2FudmEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBtb3VzZURvd24pO1xyXG4kY2FudmEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbW91c2VVcCk7XHJcblxyXG4vL2xpbXBpYXIgbGllem9cclxuY29uc3QgJGJvdG9uTGltcGlhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FudmFfX2NsZWFuLWJ1dHRvblwiKTtcclxuXHJcbmlmICgkYm90b25MaW1waWFyKSB7XHJcbiAgICAkYm90b25MaW1waWFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb250ZXh0by5jbGVhclJlY3QoMCwgMCwgJGNhbnZhLndpZHRoLCAkY2FudmEuaGVpZ2h0KTtcclxuICAgIH0pXHJcbn1cclxuXHJcbi8vZ3VhcmRhciBsaWVuem9cclxubGV0IGxpZW56bztcclxuaWYgKCRib3Rvbkd1YXJkYXIpIHtcclxuICAgICRib3Rvbkd1YXJkYXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICRib3Rvbkd1YXJkYXIudmFsdWUgPSB0cnVlOyAgICAgICBcclxuICAgICAgICAkYm90b25HdWFyZGFyLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gICAgICAgICRib3Rvbkd1YXJkYXIuaW5uZXJIVE1MID0gXCJHdWFyZGFkb1wiO1xyXG4gICAgICAgIGxpZW56byA9ICRjYW52YS50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuLy8gQ1JFQSBDTEFTRSBUQVJFQVxyXG5jbGFzcyBUYXJlYXMge1xyXG4gICAgY29uc3RydWN0b3Iobm9tYnJlLCBkZXNjcmlwY2lvbiwgZmVjaGFWZW5jaW1pZW50bykge1xyXG4gICAgICAgIHRoaXMubm9tYnJlID0gbm9tYnJlO1xyXG4gICAgICAgIHRoaXMuZGVzY3JpcGNpb24gPSBkZXNjcmlwY2lvbjtcclxuICAgICAgICB0aGlzLmZlY2hhVmVuY2ltaWVudG8gPSBmZWNoYVZlbmNpbWllbnRvO1xyXG4gICAgICAgIHRoaXMuaWQgPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUoYCR7RGF0ZS5ub3coKX1gKS5kaWdlc3QoJ2hleCcpO1xyXG4gICAgICAgIHRoaXMuZXN0YWRvID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51YmljYWNpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VuID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBvYnRlbmVyUG9zaWNpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXCJnZW9sb2NhdGlvblwiIGluIG5hdmlnYXRvcikge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihwb3NpY2lvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocG9zaWNpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWJpY2FjaW9uID0gcG9zaWNpb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOyAgLy8gUmVzdWVsdmUgbGEgcHJvbWVzYSBjdWFuZG8gc2Ugb2J0aWVuZSBsYSBnZW9sb2NhbGl6YWNpw7NuXHJcbiAgICAgICAgICAgICAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiRXJyb3IgZW4gbGEgZ2VvbG9jYWxpemFjacOzbjogXCIgKyBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiR2VvbG9jYWxpemFjacOzbiBubyBkaXNwb25pYmxlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBndWFyZGFySW1hZ2VuID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gcG9yIG1hcyBkZSBxdWUgc2VhIGZhbHNvIGVsIHZhbG9yIGVzdGEgZ3VhcmRhZG8gZW4gc3RyaW5nLCBwb3IgbG8gcXVlIGhheSBxdWUgaGFjZXIgZXN0b1xyXG4gICAgICAgIGlmKCRib3Rvbkd1YXJkYXIudmFsdWUgIT09IFwiZmFsc2VcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInd0ZmZmXCIpXHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VuID0gYDxpbWcgc3JjPVwiJHtsaWVuem99XCIgLz5gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZW4gPSBcIjxwPjwvcD5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vcGFyYSB0b21hciBudWV2b3MgdmFsb3JlcyBlbiBlbCBmb3JtdWxhcmlvXHJcbi8veSBjcmVhciBudWV2YXMgaW5zdGFuY2lhc1xyXG5jb25zdCAkZm9ybU51ZXZhVGFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10YXNrXCIpO1xyXG5cclxuJGZvcm1OdWV2YVRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCRmb3JtTnVldmFUYXJlYSk7XHJcbiAgICBjb25zdCBkYXRvcyA9IHt9O1xyXG4gICAgXHJcbiAgICBmb3JtRGF0YS5mb3JFYWNoKCh2YWxvciwgbGxhdmUpID0+IHtcclxuICAgICAgICBkYXRvc1tsbGF2ZV0gPSB2YWxvcjtcclxuICAgIH0pXHJcbiAgICBcclxuICAgIGNvbnN0IHtub21icmUsIGRlc2NyaXBjaW9uLCBmZWNoYVZlbmNpbWllbnRvfSA9IGRhdG9zO1xyXG5cclxuICAgIFZhbGlkYWNpb25lcy52YWNpbyhub21icmUsIGRlc2NyaXBjaW9uKTtcclxuICAgIFZhbGlkYWNpb25lcy5ub21icmUobm9tYnJlKTtcclxuICAgIFZhbGlkYWNpb25lcy5kZXNjcmlwY2lvbihkZXNjcmlwY2lvbik7XHJcblxyXG4gICAgY29uc3QgdGFyZWEgPSBuZXcgVGFyZWFzKG5vbWJyZSwgZGVzY3JpcGNpb24sIGZlY2hhVmVuY2ltaWVudG8pO1xyXG4gICAgdGFyZWEuZ3VhcmRhckltYWdlbigpO1xyXG4gICAgdGFyZWEub2J0ZW5lclBvc2ljaW9uKClcclxuICAgICAgICAudGhlbih1YmljYWNpb24gPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInViaWNhY2lvbiBcIiwgdWJpY2FjaW9uKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlkR3J1cG8gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImJvdG9uXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpZEdydXBvKVxyXG4gICAgICAgICAgICAvL0VOQ1VFTlRSQSBFTCBOT01CUkUgREVMIEdSVVBPIEFMIFFVRSBMRSBRVUVSRU1PUyBTVU1BUiBVTkEgVEFSRUFcclxuICAgICAgICAgICAgY29uc3QgZ3J1cG9zID0gb2J0ZW5lckdydXBvcygpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhncnVwb3MpXHJcbiAgICAgICAgICAgIGxldCBncnVwb09iamV0bztcclxuICAgICAgICAgICAgaWYgKGdydXBvcy5sZW5ndGggIT09IDApIFxyXG4gICAgICAgICAgICAgICAgZ3J1cG9PYmpldG8gPSBncnVwb3MuZmluZChncnVwbyA9PiBncnVwby5pZCA9PT0gaWRHcnVwbyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT0JKRVRPT09PLS0tLT5cIiAsZ3J1cG9PYmpldG8pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVEFSRUFBQUFBQUFBXCIsIHRhcmVhKVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAvL0dVQVJEQU1PUyBMQSBUQVJFQVxyXG4gICAgICAgICAgICBncnVwb09iamV0by50YXJlYXMucHVzaCh0YXJlYSk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZ3J1cG9zKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRhcmVhOiAtLS0tLT5cIiwgdGFyZWEuaW1hZ2VuKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImdydXBvc1wiLCBKU09OLnN0cmluZ2lmeShncnVwb3MpKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ3J1cG9zXCIpKSlcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi4uLy4uL2luZGV4Lmh0bWxcIlxyXG4gICAgICAgIH0pXHJcbn0pXHJcbiJdLCJuYW1lcyI6WyJpY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29sbGFwc2libGUiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiJGJvdG9uR3VhcmRhciIsImNvbnNvbGUiLCJsb2ciLCJ2YWx1ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImlubmVySFRNTCIsImluaWNpYWxYIiwiaW5pY2lhbFkiLCIkY2FudmEiLCJjb250ZXh0byIsImdldENvbnRleHQiLCJkaWJ1amFyIiwiY3Vyc29yWCIsImN1cnNvclkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsImxpbmVDYXAiLCJsaW5lSm9pbiIsImxpbmVUbyIsInN0cm9rZSIsIm1vdXNlTW92aW5nIiwiZXZlbnQiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsaWVuem8iLCIkYm90b25MaW1waWFyIiwicHJldmVudERlZmF1bHQiLCJjbGVhclJlY3QiLCJ3aWR0aCIsImhlaWdodCIsInNldEF0dHJpYnV0ZSIsInRvRGF0YVVSTCIsIlRhcmVhcyIsIl9jcmVhdGVDbGFzcyIsIm5vbWJyZSIsImRlc2NyaXBjaW9uIiwiZmVjaGFWZW5jaW1pZW50byIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0eSIsIl90aGlzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2ljaW9uIiwidWJpY2FjaW9uIiwiZXJyb3IiLCJtZXNzYWdlIiwidGhpcyIsImltYWdlbiIsImNvbmNhdCIsImlkIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsIkRhdGUiLCJub3ciLCJkaWdlc3QiLCJlc3RhZG8iLCIkZm9ybU51ZXZhVGFyZWEiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiZGF0b3MiLCJmb3JFYWNoIiwidmFsb3IiLCJsbGF2ZSIsIlZhbGlkYWNpb25lcyIsInZhY2lvIiwidGFyZWEiLCJndWFyZGFySW1hZ2VuIiwib2J0ZW5lclBvc2ljaW9uIiwidGhlbiIsImlkR3J1cG8iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZ3J1cG9PYmpldG8iLCJncnVwb3MiLCJvYnRlbmVyR3J1cG9zIiwibGVuZ3RoIiwiZmluZCIsImdydXBvIiwidGFyZWFzIiwicHVzaCIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIl0sInNvdXJjZVJvb3QiOiIifQ==