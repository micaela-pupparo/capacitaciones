(()=>{"use strict";function o(o){var e=t.find((function(e){return o.email===e.email}));if(!e)throw new Error("usuario no encontrado");return e}var e=new WeakMap,n=new WeakMap,t=[];function a(o,a,r){this.nombre=o,this.email=a,e.set(this,r),n.set(this,{logueado:!1,intentos:0});var i=[];this.agregarAcceso=function(){var o=(new Date).toISOString();i.push(o),i.length>5&&i.shift()},this.mostrarHistorialAcceso=function(){return i.slice()},t.push(this)}a.login=function(e){var t=o(e),a=n.get(t);if(t._contraseña===e._contraseña)return!0===a.logueado?console.log("".concat(t.nombre," ya estaba con la sesion iniciada")):(a.logueado=!0,a.intentos=0,t.agregarAcceso(),console.log("".concat(t.nombre," ha iniciado sesion!")));if(t._contraseña!==e._contraseña){if(a.intentos++,a.intentos>3)throw new Error("Cuenta bloqueada");console.log("contraseña incorrecta")}},a.logout=function(e){var t=o(e),a=n.get(t);return a.logueado=!1,a.intentos=0,console.log("".concat(t.nombre," ha cerrado sesion!"))},a.prototype.cambiarContraseña=function(o){var n;if(!("string"==typeof(n=o)&&n.length>4)||n.includes(" "))return console.log("contraseña invalida");e.set(this,o),console.log("contraseña cambiada con exito!")},a.prototype.verContenido=function(){console.log("miraste contenido!")},a.prototype.mostrarActividad=function(){return"".concat(this.nombre," últimos accesos:\n  ").concat(this.mostrarHistorialAcceso().join(", "))};var r=new WeakMap;function i(o,e,n){a.call(this,o,e,n),r.set(this,"admin")}function c(o,e,n){new a(o,e,n),r.set(this,"editor")}i.prototype=Object.create(a.prototype),i.prototype.constructor=i,i.prototype.agregarUsuario=function(o){var e=o.nombre,n=o.email,t=o._contraseña,r=function(){for(var o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];for(var t=0,a=e;t<a.length;t++){var r=a[t];if("string"!=typeof r)return!1;if(r.length<1)return!1}return!0}(e,t);if(!r)return console.log("datos invalidos");new a(e,n,t),console.log("".concat(e," fue creado con exito por ").concat(this.nombre))},i.prototype.eliminarUsuario=function(o){if(!function(o){return t.some((function(e){return e.email===o.email}))}(o))return console.log("El usuario no existe");t=t.filter((function(e){return e.email!==o.email})),console.log("el usuario ".concat(o.nombre," ha sido eliminado por ").concat(this.nombre))},c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c.prototype.modificarCotenido=function(){console.log("modificaste contenido!")},new a("micaela","micaela@gmail.com","mica1234");var s=new a("belen","belen@gmail.com","belen1234"),l=new i("mauro","mauro@gmail.com","mauro"),u=(new c("matias","matias@gmail.com","matias123"),{nombre:"agus",email:"agus@gmail.com",_contraseña:"123"});try{l.agregarUsuario(u),l.eliminarUsuario(u),a.logout(s),a.login({nombre:"belen",email:"belen@gmail.com",_contraseña:"belen1234"}),a.login(s),s.cambiarContraseña("12345"),console.log(s.mostrarActividad())}catch(o){console.log(o)}})();